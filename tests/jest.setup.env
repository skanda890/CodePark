# Test Environment Configuration

# Node Environment
NODE_ENV=test
TEST_ENV=true
PORT=3001

# Database Configuration
# Supports CI/local override via MONGODB_TEST_URL
MONGODB_URL=mongodb://test-mongodb:27017/codepark-test
MONGODB_TEST_URL=mongodb://test-mongodb:27017/codepark-test
MONGODB_USER=test
MONGODB_PASSWORD=test

# Redis Configuration
# Supports CI/local override via REDIS_TEST_HOST and REDIS_TEST_PORT
REDIS_HOST=test-redis
REDIS_TEST_HOST=test-redis
REDIS_PORT=6379
REDIS_TEST_PORT=6379
REDIS_PASSWORD=

# JWT Configuration (32+ character requirements for security)
JWT_SECRET=test-secret-key-min-32-characters-long-1234567890
JWT_REFRESH_SECRET=test-refresh-secret-min-32-characters-long123
JWT_EXPIRY=1h
JWT_REFRESH_EXPIRY=7d

# Security
ARGON2_TIME_COST=2
ARGON2_MEMORY_COST=65536
ARGON2_PARALLELISM=1

# GraphQL
GRAPHQL_ENABLED=true
GRAPHQL_DEBUG=true

# Webhooks
WEBHOOK_ENABLED=true
WEBHOOK_MAX_RETRIES=3
WEBHOOK_TIMEOUT=5000

# Testing Flags
DISABLE_EXTERNAL_CALLS=true
MOCK_EXTERNAL_SERVICES=true

# Notes:
# - All JWT secrets must be 32+ characters for Argon2 compatibility
# - Test database URLs point to isolated test containers (not localhost)
# - External service calls are disabled by default in tests
# - For CI/CD: override with MONGODB_TEST_URL and REDIS_TEST_* variables
# - Never commit real API keys or secrets to this file
